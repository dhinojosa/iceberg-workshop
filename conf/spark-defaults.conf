# ========== Iceberg Catalog Setup ==========
spark.sql.defaultCatalog                          ice
spark.sql.catalog.ice                             org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.ice.type                        rest
spark.sql.catalog.ice.uri                         http://iceberg-rest:8181
spark.sql.catalog.ice.warehouse                   s3a://warehouse/
spark.sql.catalog.ice.io-impl                     org.apache.iceberg.aws.s3.S3FileIO
spark.sql.catalog.ice.s3.endpoint                 http://minio:9000
spark.sql.catalog.ice.s3.path-style-access        true
spark.sql.catalog.ice.s3.region                   us-east-1
spark.sql.catalog.ice.s3.access-key-id            minioadmin
spark.sql.catalog.ice.s3.secret-access-key        minioadmin

# ========== Spark Event Logging for History Server ==========
spark.eventLog.enabled                            true
spark.eventLog.dir                                s3a://spark-events/logs/
spark.history.fs.logDirectory                     s3a://spark-events/logs/

# ========== S3A Filesystem Settings ==========
spark.hadoop.fs.s3a.impl                          org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.AbstractFileSystem.s3a.impl       org.apache.hadoop.fs.s3a.S3A
spark.hadoop.fs.s3a.endpoint                      http://minio:9000
spark.hadoop.fs.s3a.connection.ssl.enabled        false
spark.hadoop.fs.s3a.path.style.access             true
spark.hadoop.fs.s3a.aws.credentials.provider      org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider
spark.hadoop.fs.s3a.access.key                    minioadmin
spark.hadoop.fs.s3a.secret.key                    minioadmin
fs.s3a.metadatastore.impl                         org.apache.hadoop.fs.s3a.metastore.NullMetadataStore
spark.hadoop.fs.s3a.create.directory.marker       true

# ========== AWS Region noise suppressor ==========
spark.driver.extraJavaOptions                     -Daws.region=us-east-1
spark.executor.extraJavaOptions                   -Daws.region=us-east-1
